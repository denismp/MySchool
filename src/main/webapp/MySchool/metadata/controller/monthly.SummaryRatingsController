{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "monthlysummaryratingscontroller",
        "designer|userClassName": "monthly.SummaryRatingsController",
        "models": [
            "monthly.SummaryRatings"
        ],
        "stores": [
            "monthly.SummaryRatingsStore",
            "student.StudentStore",
            "subject.SubjectStore"
        ]
    },
    "designerId": "1498b0c6-fccd-43d7-ac5c-46f2ee7d0be5",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyDetailsTabPanel",
                "selector": "monthlydetailstabpanel"
            },
            "designerId": "6d707be4-b0c9-40d3-8fc4-363dd7168757"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyFeelingsTabPanel",
                "selector": "monthlyfeelingstabpanel"
            },
            "designerId": "05143a08-59ac-4355-8965-8c33921adef0"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyReflectionsTabPanel",
                "selector": "monthlyrelectionstabpanel"
            },
            "designerId": "88426b1b-8ae8-44f4-a1fe-5426b1404e8b"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyPatternsOfCorrectionsTabPanel",
                "selector": "monthlypatternsofcorrectionstabpanel"
            },
            "designerId": "e09d6cdd-fd6a-4883-af7e-67b7a4f677a7"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyEffectivenessOfActionsTabPanel",
                "selector": "monthlyeffectivenessofactionstabpanel"
            },
            "designerId": "648e924b-d1eb-4ab0-942d-a61a7cbea6d5"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyActionResultsTabPanel",
                "selector": "monthlyactionresultstabpanel"
            },
            "designerId": "b4b413d0-9e09-4234-bde5-27763e77eb9c"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyRealizationsTabPanel",
                "selector": "monthlyrealizationstabpanel"
            },
            "designerId": "b2713fd8-4816-44eb-96c2-44cbcaf00019"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyPlannedChangesTabPanel",
                "selector": "monthlyplannedchangestabpanel"
            },
            "designerId": "254fd10c-c754-4e0c-9c09-9c7ae99ea5d3"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyCommentsTabPanel",
                "selector": "monthlycommentstabpanel"
            },
            "designerId": "befc0581-b8ec-4ec2-ab5b-775a90d8d555"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#monthlysummarygridpanel",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onMonthlysummarygridpanelSelectionChange",
                "implHandler": [
                    "debugger;",
                    "// in the onMyJsonStoreLoad we do a deselect so we need to test",
                    "// if selected[0] has a value",
                    "if ( Ext.isDefined( selected  ) && Ext.isDefined( selected[0]  )) {",
                    "    var tabPanel = this.getMonthlyFeelingsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyReflectionsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyPatternsOfCorrectionsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyEffectivenessOfActionsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyActionResultsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyRealizationsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyPlannedChangesTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "    tabPanel = this.getMonthlyCommentsTabPanel();",
                    "        console.log( tabPanel );",
                    "    this.loadTabPanelForm( tabPanel, selected );",
                    "",
                    "    console.log('onMonthlysummarygridpanelSelectionChange()');",
                    "}"
                ],
                "name": "selectionchange",
                "scope": "me"
            },
            "designerId": "ba848037-a799-4f9b-933b-f2040836d9d5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#monthlysummarydetailspanel",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onMonthlysummarydetailspanelActivate",
                "implHandler": [
                    ""
                ],
                "name": "activate",
                "scope": "me"
            },
            "designerId": "515ae10e-ca10-4ce3-9425-cede4060062a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#monthlyfeelingstabpanel",
                "designer|targetType": "Ext.panel.Panel",
                "fn": "onMonthlyfeelingstabpanelActivate",
                "implHandler": [
                    "//debugger;",
                    "console.log( \"onMonthlyfeelingstabpanelActivate\");"
                ],
                "name": "activate",
                "scope": "me"
            },
            "designerId": "b5f6c780-a29e-4b7f-9b85-dd1c498691eb"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#monthlysummarygridview",
                "designer|targetType": "Ext.grid.View",
                "fn": "onMonthlysummarygridviewViewReady",
                "implHandler": [
                    "debugger;",
                    "console.log('onMonthlysummarygridviewViewReady()');",
                    "var myStore = Ext.getStore('monthly.SummaryRatingsStore');",
                    "var myStudentStore = Ext.getStore('student.StudentStore');",
                    "var studentRecord = myStudentStore.getAt(0);",
                    "//        debugger",
                    "if ( typeof( studentRecord ) != \"undefined\" ) {",
                    "    var studentName_ = studentRecord.get('firstName') + \" \" + studentRecord.get('middleName') + ' ' + studentRecord.get('lastName');",
                    "    //MonthlyDetailsGridPanel",
                    "    //var myGrid = Ext.ComponentQuery.query(\"#bodiesofworkssubjectsgrid\")[0];",
                    "    var myGrid = this.getMonthlyDetailsGridPanel();",
                    "",
                    "    myGrid.setTitle('[' + studentName_ + ']');",
                    "    myStore.load({",
                    "        callback: this.onMyJsonStoreLoad,",
                    "        scope: this,",
                    "        params: {",
                    "            studentName: studentRecord.get('userName'),",
                    "            studentId: studentRecord.get('id')",
                    "        }",
                    "    });",
                    "}",
                    "//grid.getSelectionModel().select( 0 );",
                    "//tablepanel.getSelectionModel().select( 0 );",
                    ""
                ],
                "name": "viewready",
                "scope": "me"
            },
            "designerId": "cac21ed2-018c-4f9d-8f3e-02a4fc250eaa"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#feelingstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onFeelingstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "489bb1e9-0724-4660-acc9-36ac7f28d492"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "o",
                    "event",
                    "eOpts"
                ],
                "fn": "blurHandler",
                "implHandler": [
                    "debugger;",
                    "var p_ = o.up('form').up('panel');",
                    "var topP_ = p_.up('panel');",
                    "var pItemId_ = p_.getItemId();",
                    "var edit_ = p_.down('#edit' + pItemId_);",
                    "",
                    "Ext.Msg.show({",
                    "    title:'Save Changes?',",
                    "    msg: 'Would you like to save your changes to ' + pItemId_ + ' ?',",
                    "    buttons: Ext.Msg.YESNO,",
                    "    icon: Ext.Msg.QUESTION,",
                    "    fn: function(buttonId) {",
                    "        if (buttonId == 'yes') {",
                    "            Ext.Msg.show({",
                    "                title: 'Save',",
                    "                msg: 'record saved',",
                    "                buttons: Ext.Msg.OK,",
                    "                icon: Ext.window.MessageBox.INFO",
                    "            });",
                    "        }",
                    "        else {",
                    "            Ext.Msg.show({",
                    "                title: 'Cancel',",
                    "                msg: 'record restored',",
                    "                buttons: Ext.Msg.OK,",
                    "                icon: Ext.window.MessageBox.INFO",
                    "            });",
                    "        }",
                    "        topP_ = eOpts;",
                    "        //topP_.buttonHandler.call(edit_);",
                    "        topP_.buttonHandler(edit_);",
                    "    }",
                    "});"
                ]
            },
            "designerId": "67e3b996-eacd-4e0d-b912-362efb4383c2"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "button",
                    "e",
                    "eOpts"
                ],
                "fn": "buttonHandler",
                "implHandler": [
                    "debugger;",
                    "window.console.log(button);",
                    "var b_ = button;",
                    "var p_ = b_.up('panel');",
                    "var pItemId_ = p_.getItemId();",
                    "var field_;",
                    "",
                    "//if (pItemId_ == 'monthlyfeelingstabpanel') {",
                    "//    field_ = p_.down('numberfield');",
                    "//} else {",
                    "//    field_ = p_.down('textareafield');",
                    "//}",
                    "field_ = p_.down('textareafield');",
                    "",
                    "if (b_.getText().charAt(0) == 'D') {",
                    "    b_ = p_.down('#edit' + pItemId_);",
                    "    b_.setText('Edit');",
                    "    b_.setDisabled(false);",
                    "    field_.setDisabled(true);",
                    "} else {",
                    "    b_.setText('Done');",
                    "    field_.setDisabled(false);",
                    "    field_.focus();",
                    "}"
                ]
            },
            "designerId": "3e645079-f408-4e71-8d03-7b9c3fae211c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlyfeelingstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlyfeelingstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "b7f4d35b-8fe8-456d-950d-2b74709bd5a9"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlypatternsofcorrectionstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlypatternsofcorrectionstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "270ffbca-9221-4ba1-bac2-69a2f3f8e6a5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#effectivenestextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onEffectivenestextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "079961f7-9cff-4a2b-b1af-794352bb29d9"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlyeffectivenessofactionstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlyeffectivenessofactionstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "0f7fe806-6b95-46c5-9c98-ee683ba6321c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#actionresultstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onActionresultstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "4b8e3de4-294f-4455-8323-5434da97f0c2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthyactionresultstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthyactionresultstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "15f415f1-3cff-4d1b-baf0-fd5d9669699c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlyrealizationstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlyrealizationstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "1acefb8e-514c-416f-8eef-34befaa66a05"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#realizationstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onRealizationstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "0e2b2584-3536-4530-8f26-b61ce2425d6c"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "EditMonthlyPlannedChangesTabPanel",
                "selector": "#editmonthlyplannedchangestabpanel"
            },
            "designerId": "a49fb491-e364-418f-a381-f0aa01db9843"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#plannedchangestextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onPlannedchangestextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "b5b86cf9-5db8-4eba-bcba-f0434c6d4ad5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlyplannedchangestabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlyplannedchangestabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "946c3714-d62d-4d79-94ae-2c19e6037ea1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#commentstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onCommentstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "a0e1becf-b148-4544-86d5-1c4f73fa63e2"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onMyJsonStoreLoad",
                "implHandler": [
                    "//debugger;",
                    "//var g_ = Ext.ComponentQuery.query(\"#monthlysummarygridpanel\")[0];",
                    "var g_ = this.getMonthlyDetailsGridPanel();",
                    "",
                    "if (g_.getStore().getCount() > 0) {",
                    "    g_.getSelectionModel().deselectAll();",
                    "    g_.getSelectionModel().select( 0 );",
                    "}",
                    "",
                    "this.gridViewReady = true;"
                ]
            },
            "designerId": "4d80a520-8953-415b-a88c-09a9e3cbe5fd"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "MonthlyDetailsGridPanel",
                "selector": "monthlydetailsgridpanel"
            },
            "designerId": "4f02c5a7-6ea9-4c0a-b077-1d3186819012"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#refreshmonthlysummariestool",
                "designer|targetType": "Ext.panel.Tool",
                "fn": "onRefreshmonthlysummariestoolClick",
                "implHandler": [
                    "var myStore = Ext.getStore('monthly.SummaryRatingsStore');",
                    "myStore.reload();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "99c0d8f9-504a-45d1-99d2-2f6bfc9c39c0"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlycommentstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlycommentstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "f2ad7965-0f68-4598-9d07-d083875a7bbb"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "tabPanel",
                    "selected"
                ],
                "fn": "loadTabPanelForm",
                "implHandler": [
                    "var dockedItems = tabPanel.getDockedItems();",
                    "var myForm = dockedItems[0].getForm();",
                    "if( Ext.isDefined( myForm ) === false )",
                    "{",
                    "    myForm = dockedItems[1].getForm();",
                    "}",
                    "if( Ext.isDefined( myForm ) )",
                    "{",
                    "    console.log( myForm );",
                    "    myForm.loadRecord( selected[0] );",
                    "}",
                    "else",
                    "{",
                    "    console.log( 'No form' );",
                    "    console.log( tabPenel );",
                    "}"
                ]
            },
            "designerId": "b72047fc-27e8-434a-bdd3-f25d051dd7a8"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#savemonthlysummariestool",
                "designer|targetType": "Ext.panel.Tool",
                "fn": "onSavemonthlysummariestoolClick",
                "implHandler": [
                    "window.console.log( \"monthly.SummaryRatingsController.Save\" );",
                    "debugger;",
                    "",
                    "var mystore = Ext.getStore(\"monthly.SummaryRatingsStore\");",
                    "",
                    "var records = mystore.getModifiedRecords();",
                    "for( var i = 0; i < records.length; i++ )",
                    "{",
                    "    records[i].set( 'lastUpdated', new Date() );",
                    "    records[i].set( 'whoUpdated', 'login');",
                    "}",
                    "",
                    "mystore.sync();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "4cb39bad-03f1-4918-b29a-6312f9ba659a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#newmonthlysummariestool",
                "designer|targetType": "Ext.panel.Tool",
                "fn": "onNewmonthlysummariestoolClick",
                "implHandler": [
                    "debugger;",
                    "var studentStore = Ext.getStore('student.StudentStore');",
                    "var subjectStore = Ext.getStore( 'subject.SubjectStore');",
                    "var commonQuarterSubjectStore = Ext.getStore( 'common.QuarterSubjectStore');",
                    "var commonMonthStore = Ext.getStore('common.MonthStore');",
                    "",
                    "var studentRecord = studentStore.getAt(0);",
                    "var studentId = studentRecord.get( 'id' );",
                    "var studentName = studentRecord.get( 'userName' );",
                    "",
                    "var newDialog = Ext.create( 'MySchool.view.monthly.summary.NewSummaryFormPanel' );",
                    "",
                    "newDialog.down('#newmonthlysummary-studentid').setValue( studentId );",
                    "newDialog.down('#newmonthlysummary-studentname').setValue( studentName );",
                    "",
                    "//commonQuarterSubjectStore.myLoad();",
                    "commonMonthStore.myLoad();",
                    "",
                    "",
                    "",
                    "window.console.log( 'New Monthly Summary Dialog' );",
                    "",
                    "",
                    "newDialog.render( Ext.getBody() );",
                    "newDialog.show();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "5596a764-b8f5-4f90-8c03-0885d534746f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#newmonthlysummarycanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onNewmonthlysummarycanelClick",
                "implHandler": [
                    "//debugger;",
                    "window.console.log( \"Cancel New Monthly Summary\" );",
                    "var myForm = button.up().getForm();",
                    "myForm.reset();",
                    "button.up().hide();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "ed5731b4-9698-46b0-80b3-5006c7fd41e4"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#newmonthlysummarysubmit",
                "designer|targetType": "Ext.button.Button",
                "fn": "onNewmonthlysummarysubmitClick",
                "implHandler": [
                    "debugger;",
                    "window.console.log( \"Submit New Monthly Summary\" );",
                    "var myForm\t\t\t\t\t= button.up().getForm();",
                    "//var newDialog = button.up('monthlynewsummaryformpanel');",
                    "",
                    "//Get the values from the form and insert a new record into the MonthlySummaryView.",
                    "",
                    "var formValues\t\t\t\t= myForm.getValues();",
                    "",
                    "//\tCreate an empty record",
                    "var summaryRatingsRecord\t= Ext.create('MySchool.model.monthly.SummaryRatings');",
                    "",
                    "//\tGet the stores that we will need",
                    "var summaryRatingsStore\t\t= this.getStore( 'monthly.SummaryRatingsStore' );",
                    "",
                    "var studentStore = Ext.getStore('student.StudentStore');",
                    "var subjectStore = Ext.getStore( 'subject.SubjectStore' );",
                    "",
                    "//\tGet the student info",
                    "var studentRecord\t= studentStore.getAt(0);",
                    "var studentId\t\t= studentRecord.get( 'id' );",
                    "var studentName\t\t= studentRecord.get( 'userName' );",
                    "",
                    "//\tGet the quarterSubject record from the form.",
                    "var quarterSubjectId\t\t= formValues.comboquartersubject;",
                    "var quarterSubjectRecord;",
                    "for( var i = 0; i < subjectStore.count(); i++ )",
                    "{",
                    "    if( subjectStore.getAt(i).get('id') === quarterSubjectId )",
                    "    {",
                    "        quarterSubjectRecord = subjectStore.getAt(i);",
                    "        break;",
                    "    }",
                    "}",
                    "",
                    "if( typeof quarterSubjectRecord !== 'undefined')",
                    "{",
                    "    //\tGet the other information that we need for the new record.",
                    "    var subjName\t= quarterSubjectRecord.get('subjName');",
                    "    var subjId\t\t= quarterSubjectRecord.get('subjId');",
                    "    var qtrName\t\t= quarterSubjectRecord.get('qtrName');",
                    "    var qtrId\t\t= quarterSubjectRecord.get('qtrId');",
                    "    var qtrYear\t\t= quarterSubjectRecord.get('qtrYear');",
                    "    //var month_number = formValues.combomonth;",
                    "",
                    "    //var allSubjRec_ = myAllSubjStore.findRecord( 'subjName', subjName );",
                    "    //var subjId_ = allSubjRec_.get( 'subjId' );",
                    "",
                    "",
                    "    //Add the data to the new record.",
                    "    if( formValues.combomonth > 0 )",
                    "    {",
                    "        summaryRatingsRecord.set('month_number', formValues.combomonth);",
                    "",
                    "        summaryRatingsRecord.set('subjName', subjName );",
                    "        summaryRatingsRecord.set('subjId', subjId );",
                    "        summaryRatingsRecord.set('qtrName', qtrName );",
                    "        summaryRatingsRecord.set('qtrId', qtrId);",
                    "        summaryRatingsRecord.set('studentId', studentId);",
                    "        summaryRatingsRecord.set('studentUserName', studentName);",
                    "        summaryRatingsRecord.set('qtrYear', qtrYear);",
                    "        summaryRatingsRecord.set('locked', 0 );",
                    "        summaryRatingsRecord.set('feelings', formValues.feelings);",
                    "        summaryRatingsRecord.set('patternsOfCorrections', formValues.patternsofcorrections);",
                    "        summaryRatingsRecord.set('effectivenessOfActions', formValues.effectivenessofactions);",
                    "        summaryRatingsRecord.set('realizations', formValues.realizations);",
                    "        summaryRatingsRecord.set('reflections', formValues.reflections);",
                    "        summaryRatingsRecord.set('plannedChanges', formValues.plannedchanges);",
                    "        summaryRatingsRecord.set('comments', formValues.comments);",
                    "        summaryRatingsRecord.set('actionResults', formValues.actionresults);",
                    "        summaryRatingsRecord.set('whoUpdated', 'login');",
                    "        summaryRatingsRecord.set('lastUpdated', new Date());",
                    "        summaryRatingsRecord.set('version', null);",
                    "        summaryRatingsRecord.set( 'summaryId', 0 );",
                    "",
                    "        //add to the store",
                    "",
                    "        summaryRatingsStore.add( summaryRatingsRecord );",
                    "",
                    "        //sync the store.",
                    "        summaryRatingsStore.sync();",
                    "",
                    "        myForm.reset();",
                    "        button.up().hide();",
                    "    }",
                    "    else",
                    "    {",
                    "        var smsg = \"You must enter a value for month\";",
                    "        Ext.MessageBox.show({",
                    "            title: 'REMOTE EXCEPTION',",
                    "            msg: smsg,",
                    "            icon: Ext.MessageBox.ERROR,",
                    "            buttons: Ext.Msg.OK",
                    "        });",
                    "    }",
                    "}",
                    "else",
                    "{",
                    "    var msg = \"You must have student/faculty/subject/quarter records.\";",
                    "            Ext.MessageBox.show({",
                    "            title: 'NO DATA',",
                    "            msg: smsg,",
                    "            icon: Ext.MessageBox.ERROR,",
                    "            buttons: Ext.Msg.OK",
                    "        });",
                    "}",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "75b92922-fdf2-4b0b-9b17-5d9cb87d2651"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#reflectionstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onReflectionstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "16dd56e0-912b-4573-adba-66fffd29c19c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#editmonthlyreflectionstabpanel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onEditmonthlyreflectionstabpanelClick",
                "implHandler": [
                    "this.buttonHandler( button, e, eOpts );"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "ba09bc96-4bb0-4f72-acc0-cfbff2496a27"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#patternofcorrectionstextbox",
                "designer|targetType": "Ext.form.field.TextArea",
                "fn": "onPatternofcorrectionstextboxBlur",
                "implHandler": [
                    "this.blurHandler( component, e, this );"
                ],
                "name": "blur",
                "scope": "me"
            },
            "designerId": "894fe512-d386-4f30-8104-f3e58875e801"
        }
    ]
}